---
src       : src/plfa/CallByName.lagda
title     : "The call-by-name evaluation strategy"
layout    : page
prev      : /Confluence/
permalink : /CallByName/
next      : /Denotational/
---

<pre class="Agda">{% raw %}<a id="168" class="Keyword">module</a> <a id="175" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}" class="Module">plfa.CallByName</a> <a id="191" class="Keyword">where</a>{% endraw %}</pre>

## Imports

<pre class="Agda">{% raw %}<a id="234" class="Keyword">open</a> <a id="239" class="Keyword">import</a> <a id="246" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}" class="Module">plfa.Untyped</a>
  <a id="261" class="Keyword">using</a> <a id="267" class="Symbol">(</a><a id="268" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2980" class="Datatype">Context</a><a id="275" class="Symbol">;</a> <a id="277" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4150" class="Datatype Operator">_⊢_</a><a id="280" class="Symbol">;</a> <a id="282" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3365" class="Datatype Operator">_∋_</a><a id="285" class="Symbol">;</a> <a id="287" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a><a id="288" class="Symbol">;</a> <a id="290" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3002" class="InductiveConstructor">∅</a><a id="291" class="Symbol">;</a> <a id="293" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3018" class="InductiveConstructor Operator">_,_</a><a id="296" class="Symbol">;</a> <a id="298" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3401" class="InductiveConstructor">Z</a><a id="299" class="Symbol">;</a> <a id="301" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3446" class="InductiveConstructor Operator">S_</a><a id="303" class="Symbol">;</a> <a id="305" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4186" class="InductiveConstructor Operator">`_</a><a id="307" class="Symbol">;</a> <a id="309" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4238" class="InductiveConstructor Operator">ƛ_</a><a id="311" class="Symbol">;</a> <a id="313" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4298" class="InductiveConstructor Operator">_·_</a><a id="316" class="Symbol">;</a> <a id="318" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6931" class="Function">subst</a><a id="323" class="Symbol">;</a> <a id="325" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#7359" class="Function">subst-zero</a><a id="335" class="Symbol">;</a>
         <a id="346" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6623" class="Function">exts</a><a id="350" class="Symbol">;</a> <a id="352" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6171" class="Function">rename</a><a id="358" class="Symbol">)</a>
<a id="360" class="Keyword">open</a> <a id="365" class="Keyword">import</a> <a id="372" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/LambdaReduction.md %}{% raw %}" class="Module">plfa.LambdaReduction</a>
  <a id="395" class="Keyword">using</a> <a id="401" class="Symbol">(</a><a id="402" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/LambdaReduction.md %}{% raw %}#616" class="InductiveConstructor">β</a><a id="403" class="Symbol">;</a> <a id="405" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/LambdaReduction.md %}{% raw %}#894" class="Datatype Operator">_—↠_</a><a id="409" class="Symbol">;</a> <a id="411" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/LambdaReduction.md %}{% raw %}#1001" class="InductiveConstructor Operator">_—→⟨_⟩_</a><a id="418" class="Symbol">;</a> <a id="420" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/LambdaReduction.md %}{% raw %}#944" class="InductiveConstructor Operator">_[]</a><a id="423" class="Symbol">;</a> <a id="425" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/LambdaReduction.md %}{% raw %}#1210" class="Function">—↠-trans</a><a id="433" class="Symbol">;</a> <a id="435" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/LambdaReduction.md %}{% raw %}#1923" class="Function">appL-cong</a><a id="444" class="Symbol">)</a>
<a id="446" class="Keyword">open</a> <a id="451" class="Keyword">import</a> <a id="458" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Soundness.md %}{% raw %}" class="Module">plfa.Soundness</a>
  <a id="475" class="Keyword">using</a> <a id="481" class="Symbol">(</a><a id="482" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Soundness.md %}{% raw %}#2673" class="Function">Subst</a><a id="487" class="Symbol">)</a>
<a id="489" class="Keyword">open</a> <a id="494" class="Keyword">import</a> <a id="501" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Substitution.md %}{% raw %}" class="Module">plfa.Substitution</a>
  <a id="521" class="Keyword">using</a> <a id="527" class="Symbol">(</a><a id="528" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Substitution.md %}{% raw %}#2589" class="Function">ids</a><a id="531" class="Symbol">;</a> <a id="533" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Substitution.md %}{% raw %}#23372" class="Function">rename-subst</a><a id="545" class="Symbol">;</a> <a id="547" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Substitution.md %}{% raw %}#16736" class="Function">sub-id</a><a id="553" class="Symbol">;</a> <a id="555" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Substitution.md %}{% raw %}#22338" class="Function">sub-sub</a><a id="562" class="Symbol">)</a>
<a id="564" class="Keyword">import</a> <a id="571" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="609" class="Symbol">as</a> <a id="612" class="Module">Eq</a>
<a id="615" class="Keyword">open</a> <a id="620" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="623" class="Keyword">using</a> <a id="629" class="Symbol">(</a><a id="630" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="633" class="Symbol">;</a> <a id="635" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#660" class="Function Operator">_≢_</a><a id="638" class="Symbol">;</a> <a id="640" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="644" class="Symbol">;</a> <a id="646" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#887" class="Function">trans</a><a id="651" class="Symbol">;</a> <a id="653" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#838" class="Function">sym</a><a id="656" class="Symbol">;</a> <a id="658" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1170" class="Function">cong</a><a id="662" class="Symbol">;</a> <a id="664" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1408" class="Function">cong₂</a><a id="669" class="Symbol">;</a> <a id="671" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1274" class="Function">cong-app</a><a id="679" class="Symbol">)</a>
<a id="681" class="Keyword">open</a> <a id="686" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#3975" class="Module">Eq.≡-Reasoning</a> <a id="701" class="Keyword">using</a> <a id="707" class="Symbol">(</a><a id="708" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4076" class="Function Operator">begin_</a><a id="714" class="Symbol">;</a> <a id="716" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4134" class="Function Operator">_≡⟨⟩_</a><a id="721" class="Symbol">;</a> <a id="723" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4193" class="Function Operator">_≡⟨_⟩_</a><a id="729" class="Symbol">;</a> <a id="731" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4374" class="Function Operator">_∎</a><a id="733" class="Symbol">)</a>

<a id="736" class="Keyword">open</a> <a id="741" class="Keyword">import</a> <a id="748" href="https://agda.github.io/agda-stdlib/Data.Product.html" class="Module">Data.Product</a> <a id="761" class="Keyword">using</a> <a id="767" class="Symbol">(</a><a id="768" href="https://agda.github.io/agda-stdlib/Data.Product.html#1353" class="Function Operator">_×_</a><a id="771" class="Symbol">;</a> <a id="773" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#69" class="Record">Σ</a><a id="774" class="Symbol">;</a> <a id="776" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ-syntax</a><a id="784" class="Symbol">;</a> <a id="786" href="https://agda.github.io/agda-stdlib/Data.Product.html#881" class="Function">∃</a><a id="787" class="Symbol">;</a> <a id="789" href="https://agda.github.io/agda-stdlib/Data.Product.html#942" class="Function">∃-syntax</a><a id="797" class="Symbol">;</a> <a id="799" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#155" class="Field">proj₁</a><a id="804" class="Symbol">;</a> <a id="806" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#167" class="Field">proj₂</a><a id="811" class="Symbol">)</a>
  <a id="815" class="Keyword">renaming</a> <a id="824" class="Symbol">(</a><a id="825" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_,_</a> <a id="829" class="Symbol">to</a> <a id="832" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="837" class="Symbol">)</a>
<a id="839" class="Keyword">open</a> <a id="844" class="Keyword">import</a> <a id="851" href="https://agda.github.io/agda-stdlib/Function.html" class="Module">Function</a> <a id="860" class="Keyword">using</a> <a id="866" class="Symbol">(</a><a id="867" href="https://agda.github.io/agda-stdlib/Function.html#769" class="Function Operator">_∘_</a><a id="870" class="Symbol">)</a>{% endraw %}</pre>

## Call-by-name evaluation strategy for the lambda calculus

The call-by-name evaluation strategy is a deterministic method for
computing the value of a program in the lambda calculus. We shall
prove that the call-by-name strategy produces a value if and only if
full beta reduction can reduce the program to a lambda abstraction.

We present the call-by-name strategy as a relation between an an input
term and an output value. Such a relation is often called a _big-step
semantics_, as it relates the input term directly to the final result,
in contrast to the small-step reduction relation `—→` that maps a term
to another term in which a single sub-computation has been completed.

To handle variables and function application, there is the choice
between using substitution, as in `—→`, or to use _environments_.  An
environment in this setting is a map from variables to closures, that
is, to terms paired with their environments. We choose to use
environments over substitution because the point of the call-by-name
strategy is to be closer to an implementation of the language.

We define environments and closures as follows.

<pre class="Agda">{% raw %}<a id="ClosEnv"></a><a id="2033" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2033" class="Function">ClosEnv</a> <a id="2041" class="Symbol">:</a> <a id="2043" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2980" class="Datatype">Context</a> <a id="2051" class="Symbol">→</a> <a id="2053" class="PrimitiveType">Set</a>

<a id="2058" class="Keyword">data</a> <a id="Clos"></a><a id="2063" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2063" class="Datatype">Clos</a> <a id="2068" class="Symbol">:</a> <a id="2070" class="PrimitiveType">Set</a> <a id="2074" class="Keyword">where</a>
  <a id="Clos.clos"></a><a id="2082" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2082" class="InductiveConstructor">clos</a> <a id="2087" class="Symbol">:</a> <a id="2089" class="Symbol">∀{</a><a id="2091" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2091" class="Bound">Γ</a><a id="2092" class="Symbol">}</a> <a id="2094" class="Symbol">→</a> <a id="2096" class="Symbol">(</a><a id="2097" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2097" class="Bound">M</a> <a id="2099" class="Symbol">:</a> <a id="2101" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2091" class="Bound">Γ</a> <a id="2103" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4150" class="Datatype Operator">⊢</a> <a id="2105" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a><a id="2106" class="Symbol">)</a> <a id="2108" class="Symbol">→</a> <a id="2110" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2033" class="Function">ClosEnv</a> <a id="2118" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2091" class="Bound">Γ</a> <a id="2120" class="Symbol">→</a> <a id="2122" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2063" class="Datatype">Clos</a>

<a id="2128" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2033" class="Function">ClosEnv</a> <a id="2136" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2136" class="Bound">Γ</a> <a id="2138" class="Symbol">=</a> <a id="2140" class="Symbol">∀</a> <a id="2142" class="Symbol">(</a><a id="2143" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2143" class="Bound">x</a> <a id="2145" class="Symbol">:</a> <a id="2147" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2136" class="Bound">Γ</a> <a id="2149" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3365" class="Datatype Operator">∋</a> <a id="2151" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a><a id="2152" class="Symbol">)</a> <a id="2154" class="Symbol">→</a> <a id="2156" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2063" class="Datatype">Clos</a>{% endraw %}</pre>

As usual, we have the empty environment, and we can extend an
environment.
<pre class="Agda">{% raw %}<a id="∅&#39;"></a><a id="2261" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2261" class="Function">∅&#39;</a> <a id="2264" class="Symbol">:</a> <a id="2266" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2033" class="Function">ClosEnv</a> <a id="2274" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3002" class="InductiveConstructor">∅</a>
<a id="2276" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2261" class="Function">∅&#39;</a> <a id="2279" class="Symbol">()</a>

<a id="_,&#39;_"></a><a id="2283" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2283" class="Function Operator">_,&#39;_</a> <a id="2288" class="Symbol">:</a> <a id="2290" class="Symbol">∀</a> <a id="2292" class="Symbol">{</a><a id="2293" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2293" class="Bound">Γ</a><a id="2294" class="Symbol">}</a> <a id="2296" class="Symbol">→</a> <a id="2298" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2033" class="Function">ClosEnv</a> <a id="2306" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2293" class="Bound">Γ</a> <a id="2308" class="Symbol">→</a> <a id="2310" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2063" class="Datatype">Clos</a> <a id="2315" class="Symbol">→</a> <a id="2317" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2033" class="Function">ClosEnv</a> <a id="2325" class="Symbol">(</a><a id="2326" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2293" class="Bound">Γ</a> <a id="2328" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3018" class="InductiveConstructor Operator">,</a> <a id="2330" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a><a id="2331" class="Symbol">)</a>
<a id="2333" class="Symbol">(</a><a id="2334" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2334" class="Bound">γ</a> <a id="2336" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2283" class="Function Operator">,&#39;</a> <a id="2339" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2339" class="Bound">c</a><a id="2340" class="Symbol">)</a> <a id="2342" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3401" class="InductiveConstructor">Z</a> <a id="2344" class="Symbol">=</a> <a id="2346" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2339" class="Bound">c</a>
<a id="2348" class="Symbol">(</a><a id="2349" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2349" class="Bound">γ</a> <a id="2351" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2283" class="Function Operator">,&#39;</a> <a id="2354" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2354" class="Bound">c</a><a id="2355" class="Symbol">)</a> <a id="2357" class="Symbol">(</a><a id="2358" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3446" class="InductiveConstructor Operator">S</a> <a id="2360" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2360" class="Bound">x</a><a id="2361" class="Symbol">)</a> <a id="2363" class="Symbol">=</a> <a id="2365" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2349" class="Bound">γ</a> <a id="2367" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2360" class="Bound">x</a>{% endraw %}</pre>

The call-by-name strategy is represented as a ternary relation,
written `γ ⊢ M ⇓ V`, where `γ` is the environment, `M` is the input
term, and `V` is the result value.  A _value_ is a closure whose term
is a lambda abstraction.

<pre class="Agda">{% raw %}<a id="2622" class="Keyword">data</a> <a id="_⊢_⇓_"></a><a id="2627" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">_⊢_⇓_</a> <a id="2633" class="Symbol">:</a> <a id="2635" class="Symbol">∀{</a><a id="2637" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2637" class="Bound">Γ</a><a id="2638" class="Symbol">}</a> <a id="2640" class="Symbol">→</a> <a id="2642" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2033" class="Function">ClosEnv</a> <a id="2650" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2637" class="Bound">Γ</a> <a id="2652" class="Symbol">→</a> <a id="2654" class="Symbol">(</a><a id="2655" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2637" class="Bound">Γ</a> <a id="2657" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4150" class="Datatype Operator">⊢</a> <a id="2659" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a><a id="2660" class="Symbol">)</a> <a id="2662" class="Symbol">→</a> <a id="2664" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2063" class="Datatype">Clos</a> <a id="2669" class="Symbol">→</a> <a id="2671" class="PrimitiveType">Set</a> <a id="2675" class="Keyword">where</a>

  <a id="_⊢_⇓_.⇓-var"></a><a id="2684" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2684" class="InductiveConstructor">⇓-var</a> <a id="2690" class="Symbol">:</a> <a id="2692" class="Symbol">∀{</a><a id="2694" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2694" class="Bound">Γ</a><a id="2695" class="Symbol">}{</a><a id="2697" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2697" class="Bound">γ</a> <a id="2699" class="Symbol">:</a> <a id="2701" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2033" class="Function">ClosEnv</a> <a id="2709" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2694" class="Bound">Γ</a><a id="2710" class="Symbol">}{</a><a id="2712" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2712" class="Bound">x</a> <a id="2714" class="Symbol">:</a> <a id="2716" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2694" class="Bound">Γ</a> <a id="2718" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3365" class="Datatype Operator">∋</a> <a id="2720" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a><a id="2721" class="Symbol">}{</a><a id="2723" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2723" class="Bound">Δ</a><a id="2724" class="Symbol">}{</a><a id="2726" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2726" class="Bound">δ</a> <a id="2728" class="Symbol">:</a> <a id="2730" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2033" class="Function">ClosEnv</a> <a id="2738" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2723" class="Bound">Δ</a><a id="2739" class="Symbol">}{</a><a id="2741" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2741" class="Bound">M</a> <a id="2743" class="Symbol">:</a> <a id="2745" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2723" class="Bound">Δ</a> <a id="2747" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4150" class="Datatype Operator">⊢</a> <a id="2749" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a><a id="2750" class="Symbol">}{</a><a id="2752" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2752" class="Bound">V</a><a id="2753" class="Symbol">}</a>
        <a id="2763" class="Symbol">→</a> <a id="2765" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2697" class="Bound">γ</a> <a id="2767" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2712" class="Bound">x</a> <a id="2769" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="2771" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2082" class="InductiveConstructor">clos</a> <a id="2776" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2741" class="Bound">M</a> <a id="2778" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2726" class="Bound">δ</a>
        <a id="2788" class="Symbol">→</a> <a id="2790" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2726" class="Bound">δ</a> <a id="2792" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⊢</a> <a id="2794" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2741" class="Bound">M</a> <a id="2796" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⇓</a> <a id="2798" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2752" class="Bound">V</a>
          <a id="2810" class="Comment">-----------</a>
        <a id="2830" class="Symbol">→</a> <a id="2832" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2697" class="Bound">γ</a> <a id="2834" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⊢</a> <a id="2836" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4186" class="InductiveConstructor Operator">`</a> <a id="2838" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2712" class="Bound">x</a> <a id="2840" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⇓</a> <a id="2842" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2752" class="Bound">V</a>

  <a id="_⊢_⇓_.⇓-lam"></a><a id="2847" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2847" class="InductiveConstructor">⇓-lam</a> <a id="2853" class="Symbol">:</a> <a id="2855" class="Symbol">∀{</a><a id="2857" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2857" class="Bound">Γ</a><a id="2858" class="Symbol">}{</a><a id="2860" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2860" class="Bound">γ</a> <a id="2862" class="Symbol">:</a> <a id="2864" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2033" class="Function">ClosEnv</a> <a id="2872" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2857" class="Bound">Γ</a><a id="2873" class="Symbol">}{</a><a id="2875" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2875" class="Bound">M</a> <a id="2877" class="Symbol">:</a> <a id="2879" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2857" class="Bound">Γ</a> <a id="2881" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3018" class="InductiveConstructor Operator">,</a> <a id="2883" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a> <a id="2885" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4150" class="Datatype Operator">⊢</a> <a id="2887" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a><a id="2888" class="Symbol">}</a>
        <a id="2898" class="Symbol">→</a> <a id="2900" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2860" class="Bound">γ</a> <a id="2902" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⊢</a> <a id="2904" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4238" class="InductiveConstructor Operator">ƛ</a> <a id="2906" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2875" class="Bound">M</a> <a id="2908" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⇓</a> <a id="2910" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2082" class="InductiveConstructor">clos</a> <a id="2915" class="Symbol">(</a><a id="2916" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4238" class="InductiveConstructor Operator">ƛ</a> <a id="2918" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2875" class="Bound">M</a><a id="2919" class="Symbol">)</a> <a id="2921" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2860" class="Bound">γ</a>

  <a id="_⊢_⇓_.⇓-app"></a><a id="2926" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2926" class="InductiveConstructor">⇓-app</a> <a id="2932" class="Symbol">:</a> <a id="2934" class="Symbol">∀{</a><a id="2936" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2936" class="Bound">Γ</a><a id="2937" class="Symbol">}{</a><a id="2939" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2939" class="Bound">γ</a> <a id="2941" class="Symbol">:</a> <a id="2943" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2033" class="Function">ClosEnv</a> <a id="2951" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2936" class="Bound">Γ</a><a id="2952" class="Symbol">}{</a><a id="2954" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2954" class="Bound">L</a> <a id="2956" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2956" class="Bound">M</a> <a id="2958" class="Symbol">:</a> <a id="2960" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2936" class="Bound">Γ</a> <a id="2962" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4150" class="Datatype Operator">⊢</a> <a id="2964" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a><a id="2965" class="Symbol">}{</a><a id="2967" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2967" class="Bound">Δ</a><a id="2968" class="Symbol">}{</a><a id="2970" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2970" class="Bound">δ</a> <a id="2972" class="Symbol">:</a> <a id="2974" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2033" class="Function">ClosEnv</a> <a id="2982" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2967" class="Bound">Δ</a><a id="2983" class="Symbol">}{</a><a id="2985" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2985" class="Bound">N</a> <a id="2987" class="Symbol">:</a> <a id="2989" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2967" class="Bound">Δ</a> <a id="2991" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3018" class="InductiveConstructor Operator">,</a> <a id="2993" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a> <a id="2995" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4150" class="Datatype Operator">⊢</a> <a id="2997" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a><a id="2998" class="Symbol">}{</a><a id="3000" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#3000" class="Bound">V</a><a id="3001" class="Symbol">}</a>
       <a id="3010" class="Symbol">→</a> <a id="3012" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2939" class="Bound">γ</a> <a id="3014" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⊢</a> <a id="3016" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2954" class="Bound">L</a> <a id="3018" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⇓</a> <a id="3020" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2082" class="InductiveConstructor">clos</a> <a id="3025" class="Symbol">(</a><a id="3026" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4238" class="InductiveConstructor Operator">ƛ</a> <a id="3028" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2985" class="Bound">N</a><a id="3029" class="Symbol">)</a> <a id="3031" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2970" class="Bound">δ</a>   <a id="3035" class="Symbol">→</a>   <a id="3039" class="Symbol">(</a><a id="3040" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2970" class="Bound">δ</a> <a id="3042" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2283" class="Function Operator">,&#39;</a> <a id="3045" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2082" class="InductiveConstructor">clos</a> <a id="3050" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2956" class="Bound">M</a> <a id="3052" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2939" class="Bound">γ</a><a id="3053" class="Symbol">)</a> <a id="3055" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⊢</a> <a id="3057" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2985" class="Bound">N</a> <a id="3059" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⇓</a> <a id="3061" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#3000" class="Bound">V</a>
         <a id="3072" class="Comment">---------------------------------------------------</a>
       <a id="3131" class="Symbol">→</a> <a id="3133" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2939" class="Bound">γ</a> <a id="3135" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⊢</a> <a id="3137" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2954" class="Bound">L</a> <a id="3139" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4298" class="InductiveConstructor Operator">·</a> <a id="3141" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2956" class="Bound">M</a> <a id="3143" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⇓</a> <a id="3145" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#3000" class="Bound">V</a>{% endraw %}</pre>

* The `⇓-var` rule evaluates a variable by finding the associated
  closure in the environment and then evaluating the closure.

* The `⇓-lam` rule turns a lambda abstraction into a closure
  by packaging it up with its environment.

* The `⇓-app` rule performs function application by first evaluating
  the term `L` in operator position. If that produces a closure containing
  a lambda abstraction `ƛ N`, then we evaluate the body `N` in an
  environment extended with the argument `M`. Note that `M` is not
  evaluated in rule `⇓-app` because this is call-by-name and not
  call-by-value.


## Call-by-name is deterministic

If the call-by-name relation evaluates a term `M` to both `V` and
`V′`, then `V` and `V′` are identical. In other words, the
call-by-name relation is a partial function. The proof is a
straightforward induction on the two call-by-name derivations.

<pre class="Agda">{% raw %}<a id="⇓-determ"></a><a id="4050" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4050" class="Function">⇓-determ</a> <a id="4059" class="Symbol">:</a> <a id="4061" class="Symbol">∀{</a><a id="4063" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4063" class="Bound">Γ</a><a id="4064" class="Symbol">}{</a><a id="4066" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4066" class="Bound">γ</a> <a id="4068" class="Symbol">:</a> <a id="4070" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2033" class="Function">ClosEnv</a> <a id="4078" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4063" class="Bound">Γ</a><a id="4079" class="Symbol">}{</a><a id="4081" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4081" class="Bound">M</a> <a id="4083" class="Symbol">:</a> <a id="4085" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4063" class="Bound">Γ</a> <a id="4087" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4150" class="Datatype Operator">⊢</a> <a id="4089" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a><a id="4090" class="Symbol">}{</a><a id="4092" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4092" class="Bound">V</a> <a id="4094" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4094" class="Bound">V&#39;</a> <a id="4097" class="Symbol">:</a> <a id="4099" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2063" class="Datatype">Clos</a><a id="4103" class="Symbol">}</a>
         <a id="4114" class="Symbol">→</a> <a id="4116" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4066" class="Bound">γ</a> <a id="4118" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⊢</a> <a id="4120" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4081" class="Bound">M</a> <a id="4122" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⇓</a> <a id="4124" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4092" class="Bound">V</a> <a id="4126" class="Symbol">→</a> <a id="4128" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4066" class="Bound">γ</a> <a id="4130" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⊢</a> <a id="4132" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4081" class="Bound">M</a> <a id="4134" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⇓</a> <a id="4136" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4094" class="Bound">V&#39;</a>
         <a id="4148" class="Symbol">→</a> <a id="4150" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4092" class="Bound">V</a> <a id="4152" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="4154" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4094" class="Bound">V&#39;</a>
<a id="4157" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4050" class="Function">⇓-determ</a> <a id="4166" class="Symbol">(</a><a id="4167" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2684" class="InductiveConstructor">⇓-var</a> <a id="4173" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4173" class="Bound">eq1</a> <a id="4177" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4177" class="Bound">mc</a><a id="4179" class="Symbol">)</a> <a id="4181" class="Symbol">(</a><a id="4182" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2684" class="InductiveConstructor">⇓-var</a> <a id="4188" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4188" class="Bound">eq2</a> <a id="4192" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4192" class="Bound">mc&#39;</a><a id="4195" class="Symbol">)</a>
      <a id="4203" class="Keyword">with</a> <a id="4208" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#887" class="Function">trans</a> <a id="4214" class="Symbol">(</a><a id="4215" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#838" class="Function">sym</a> <a id="4219" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4173" class="Bound">eq1</a><a id="4222" class="Symbol">)</a> <a id="4224" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4188" class="Bound">eq2</a>
<a id="4228" class="Symbol">...</a> <a id="4232" class="Symbol">|</a> <a id="4234" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="4239" class="Symbol">=</a> <a id="4241" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4050" class="Function">⇓-determ</a> <a id="4250" class="Bound">mc</a> <a id="4253" class="Bound">mc&#39;</a>
<a id="4257" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4050" class="Function">⇓-determ</a> <a id="4266" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2847" class="InductiveConstructor">⇓-lam</a> <a id="4272" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2847" class="InductiveConstructor">⇓-lam</a> <a id="4278" class="Symbol">=</a> <a id="4280" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
<a id="4285" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4050" class="Function">⇓-determ</a> <a id="4294" class="Symbol">(</a><a id="4295" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2926" class="InductiveConstructor">⇓-app</a> <a id="4301" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4301" class="Bound">mc</a> <a id="4304" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4304" class="Bound">mc₁</a><a id="4307" class="Symbol">)</a> <a id="4309" class="Symbol">(</a><a id="4310" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2926" class="InductiveConstructor">⇓-app</a> <a id="4316" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4316" class="Bound">mc&#39;</a> <a id="4320" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4320" class="Bound">mc&#39;&#39;</a><a id="4324" class="Symbol">)</a> 
    <a id="4331" class="Keyword">with</a> <a id="4336" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4050" class="Function">⇓-determ</a> <a id="4345" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4301" class="Bound">mc</a> <a id="4348" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4316" class="Bound">mc&#39;</a>
<a id="4352" class="Symbol">...</a> <a id="4356" class="Symbol">|</a> <a id="4358" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="4363" class="Symbol">=</a> <a id="4365" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#4050" class="Function">⇓-determ</a> <a id="4374" class="Bound">mc₁</a> <a id="4378" class="Bound">mc&#39;&#39;</a>{% endraw %}</pre>


## Call-by-name evaluation implies beta reduction to an abstraction

Call-by-name evaluation of a term produces a value if and only if the
term can reduces to a lambda abstraction by full beta reduction. Here
we prove the forward direction, that call-by-name evaluation implies
beta reduction to a lambda.

      ∅' ⊢ M ⇓ clos (ƛ N′) δ
      -----------------------------
    → Σ[ N ∈ ∅ , ★ ⊢ ★ ] (M —↠ ƛ N)

We postpone the backward direction to the Denotational chapter, where
the result will be an easy corollary of properties of the denotational
semantics.

We shall prove the forward direction by induction on the call-by-name
derivation. As is often necessary, we need to strengthen the statement
to get the induction to go through. We add a premise that relates the
environment `γ` to a substitution `σ` and we add to the conclusion,
saying that `subst σ M` not only reduces to a lambda abstraction `ƛ
N`, but also that `N′ ≡ subst τ N` for some substitution `τ` that is
related to `δ`. We package up these two requirements into the
mutually-recursive predicates `ℍ` and `𝔹`, defined as follows.

<pre class="Agda">{% raw %}<a id="𝔹"></a><a id="5513" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5513" class="Function">𝔹</a> <a id="5515" class="Symbol">:</a> <a id="5517" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2063" class="Datatype">Clos</a> <a id="5522" class="Symbol">→</a> <a id="5524" class="Symbol">(</a><a id="5525" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3002" class="InductiveConstructor">∅</a> <a id="5527" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4150" class="Datatype Operator">⊢</a> <a id="5529" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a><a id="5530" class="Symbol">)</a> <a id="5532" class="Symbol">→</a> <a id="5534" class="PrimitiveType">Set</a>
<a id="ℍ"></a><a id="5538" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5538" class="Function">ℍ</a> <a id="5540" class="Symbol">:</a> <a id="5542" class="Symbol">∀{</a><a id="5544" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5544" class="Bound">Γ</a><a id="5545" class="Symbol">}</a> <a id="5547" class="Symbol">→</a> <a id="5549" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2033" class="Function">ClosEnv</a> <a id="5557" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5544" class="Bound">Γ</a> <a id="5559" class="Symbol">→</a> <a id="5561" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Soundness.md %}{% raw %}#2673" class="Function">Subst</a> <a id="5567" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5544" class="Bound">Γ</a> <a id="5569" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3002" class="InductiveConstructor">∅</a> <a id="5571" class="Symbol">→</a> <a id="5573" class="PrimitiveType">Set</a>

<a id="5578" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5513" class="Function">𝔹</a> <a id="5580" class="Symbol">(</a><a id="5581" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2082" class="InductiveConstructor">clos</a> <a id="5586" class="Symbol">{</a><a id="5587" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5587" class="Bound">Γ</a><a id="5588" class="Symbol">}</a> <a id="5590" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5590" class="Bound">M</a> <a id="5592" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5592" class="Bound">γ</a><a id="5593" class="Symbol">)</a> <a id="5595" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5595" class="Bound">N</a> <a id="5597" class="Symbol">=</a> <a id="5599" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="5602" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5602" class="Bound">σ</a> <a id="5604" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="5606" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Soundness.md %}{% raw %}#2673" class="Function">Subst</a> <a id="5612" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5587" class="Bound">Γ</a> <a id="5614" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3002" class="InductiveConstructor">∅</a> <a id="5616" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a> <a id="5618" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5538" class="Function">ℍ</a> <a id="5620" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5592" class="Bound">γ</a> <a id="5622" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5602" class="Bound">σ</a> <a id="5624" href="https://agda.github.io/agda-stdlib/Data.Product.html#1353" class="Function Operator">×</a> <a id="5626" class="Symbol">(</a><a id="5627" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5595" class="Bound">N</a> <a id="5629" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="5631" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6931" class="Function">subst</a> <a id="5637" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5602" class="Bound">σ</a> <a id="5639" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5590" class="Bound">M</a><a id="5640" class="Symbol">)</a>

<a id="5643" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5538" class="Function">ℍ</a> <a id="5645" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5645" class="Bound">γ</a> <a id="5647" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5647" class="Bound">σ</a> <a id="5649" class="Symbol">=</a> <a id="5651" class="Symbol">∀{</a><a id="5653" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5653" class="Bound">x</a><a id="5654" class="Symbol">}</a> <a id="5656" class="Symbol">→</a> <a id="5658" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5513" class="Function">𝔹</a> <a id="5660" class="Symbol">(</a><a id="5661" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5645" class="Bound">γ</a> <a id="5663" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5653" class="Bound">x</a><a id="5664" class="Symbol">)</a> <a id="5666" class="Symbol">(</a><a id="5667" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5647" class="Bound">σ</a> <a id="5669" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5653" class="Bound">x</a><a id="5670" class="Symbol">)</a>{% endraw %}</pre>

The `ℍ` predicate trivially holds between the empty environment and
identity substitution.

<pre class="Agda">{% raw %}<a id="H-id"></a><a id="5789" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5789" class="Function">H-id</a> <a id="5794" class="Symbol">:</a> <a id="5796" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5538" class="Function">ℍ</a> <a id="5798" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2261" class="Function">∅&#39;</a> <a id="5801" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Substitution.md %}{% raw %}#2589" class="Function">ids</a>
<a id="5805" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5789" class="Function">H-id</a> <a id="5810" class="Symbol">{()}</a>{% endraw %}</pre>

We define an auxilliary function for extending a substitution.

<pre class="Agda">{% raw %}<a id="ext-subst"></a><a id="5904" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5904" class="Function">ext-subst</a> <a id="5914" class="Symbol">:</a> <a id="5916" class="Symbol">∀{</a><a id="5918" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5918" class="Bound">Γ</a> <a id="5920" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5920" class="Bound">Δ</a><a id="5921" class="Symbol">}</a> <a id="5923" class="Symbol">→</a> <a id="5925" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Soundness.md %}{% raw %}#2673" class="Function">Subst</a> <a id="5931" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5918" class="Bound">Γ</a> <a id="5933" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5920" class="Bound">Δ</a> <a id="5935" class="Symbol">→</a> <a id="5937" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5920" class="Bound">Δ</a> <a id="5939" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4150" class="Datatype Operator">⊢</a> <a id="5941" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a> <a id="5943" class="Symbol">→</a> <a id="5945" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Soundness.md %}{% raw %}#2673" class="Function">Subst</a> <a id="5951" class="Symbol">(</a><a id="5952" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5918" class="Bound">Γ</a> <a id="5954" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3018" class="InductiveConstructor Operator">,</a> <a id="5956" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a><a id="5957" class="Symbol">)</a> <a id="5959" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5920" class="Bound">Δ</a>
<a id="5961" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5904" class="Function">ext-subst</a><a id="5970" class="Symbol">{</a><a id="5971" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5971" class="Bound">Γ</a><a id="5972" class="Symbol">}{</a><a id="5974" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5974" class="Bound">Δ</a><a id="5975" class="Symbol">}</a> <a id="5977" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5977" class="Bound">σ</a> <a id="5979" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5979" class="Bound">N</a> <a id="5981" class="Symbol">{</a><a id="5982" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5982" class="Bound">A</a><a id="5983" class="Symbol">}</a> <a id="5985" class="Symbol">=</a> <a id="5987" class="Symbol">(</a><a id="5988" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6931" class="Function">subst</a> <a id="5994" class="Symbol">(</a><a id="5995" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#7359" class="Function">subst-zero</a> <a id="6006" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5979" class="Bound">N</a><a id="6007" class="Symbol">))</a> <a id="6010" href="https://agda.github.io/agda-stdlib/Function.html#769" class="Function Operator">∘</a> <a id="6012" class="Symbol">(</a><a id="6013" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6623" class="Function">exts</a> <a id="6018" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5977" class="Bound">σ</a><a id="6019" class="Symbol">)</a>{% endraw %}</pre>

The following lemma says that if `γ` and `σ` are related by `ℍ`, and
if closure `c` is related to term `N` by `𝔹`, then the environment
extended with `c` is related to the extended substitution.

<pre class="Agda">{% raw %}<a id="ℍ-ext"></a><a id="6242" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6242" class="Function">ℍ-ext</a> <a id="6248" class="Symbol">:</a> <a id="6250" class="Symbol">∀</a> <a id="6252" class="Symbol">{</a><a id="6253" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6253" class="Bound">Γ</a><a id="6254" class="Symbol">}</a> <a id="6256" class="Symbol">{</a><a id="6257" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6257" class="Bound">γ</a> <a id="6259" class="Symbol">:</a> <a id="6261" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2033" class="Function">ClosEnv</a> <a id="6269" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6253" class="Bound">Γ</a><a id="6270" class="Symbol">}</a> <a id="6272" class="Symbol">{</a><a id="6273" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6273" class="Bound">σ</a> <a id="6275" class="Symbol">:</a> <a id="6277" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Soundness.md %}{% raw %}#2673" class="Function">Subst</a> <a id="6283" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6253" class="Bound">Γ</a> <a id="6285" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3002" class="InductiveConstructor">∅</a><a id="6286" class="Symbol">}</a> <a id="6288" class="Symbol">{</a><a id="6289" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6289" class="Bound">c</a><a id="6290" class="Symbol">}</a> <a id="6292" class="Symbol">{</a><a id="6293" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6293" class="Bound">N</a> <a id="6295" class="Symbol">:</a> <a id="6297" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3002" class="InductiveConstructor">∅</a> <a id="6299" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4150" class="Datatype Operator">⊢</a> <a id="6301" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a><a id="6302" class="Symbol">}</a>
      <a id="6310" class="Symbol">→</a> <a id="6312" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5538" class="Function">ℍ</a> <a id="6314" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6257" class="Bound">γ</a> <a id="6316" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6273" class="Bound">σ</a>  <a id="6319" class="Symbol">→</a>  <a id="6322" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5513" class="Function">𝔹</a> <a id="6324" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6289" class="Bound">c</a> <a id="6326" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6293" class="Bound">N</a>
        <a id="6336" class="Comment">--------------------------</a>
      <a id="6369" class="Symbol">→</a> <a id="6371" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5538" class="Function">ℍ</a> <a id="6373" class="Symbol">(</a><a id="6374" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6257" class="Bound">γ</a> <a id="6376" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2283" class="Function Operator">,&#39;</a> <a id="6379" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6289" class="Bound">c</a><a id="6380" class="Symbol">)</a> <a id="6382" class="Symbol">(</a><a id="6383" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5904" class="Function">ext-subst</a> <a id="6393" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6273" class="Bound">σ</a> <a id="6395" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6293" class="Bound">N</a><a id="6396" class="Symbol">)</a>
<a id="6398" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6242" class="Function">ℍ-ext</a> <a id="6404" class="Symbol">{</a><a id="6405" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6405" class="Bound">Γ</a><a id="6406" class="Symbol">}</a> <a id="6408" class="Symbol">{</a><a id="6409" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6409" class="Bound">γ</a><a id="6410" class="Symbol">}</a> <a id="6412" class="Symbol">{</a><a id="6413" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6413" class="Bound">σ</a><a id="6414" class="Symbol">}</a> <a id="6416" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6416" class="Bound">g</a> <a id="6418" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6418" class="Bound">e</a> <a id="6420" class="Symbol">{</a><a id="6421" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3401" class="InductiveConstructor">Z</a><a id="6422" class="Symbol">}</a> <a id="6424" class="Symbol">=</a> <a id="6426" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6418" class="Bound">e</a>
<a id="6428" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6242" class="Function">ℍ-ext</a> <a id="6434" class="Symbol">{</a><a id="6435" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6435" class="Bound">Γ</a><a id="6436" class="Symbol">}</a> <a id="6438" class="Symbol">{</a><a id="6439" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6439" class="Bound">γ</a><a id="6440" class="Symbol">}</a> <a id="6442" class="Symbol">{</a><a id="6443" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6443" class="Bound">σ</a><a id="6444" class="Symbol">}{</a><a id="6446" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6446" class="Bound">c</a><a id="6447" class="Symbol">}{</a><a id="6449" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6449" class="Bound">N</a><a id="6450" class="Symbol">}</a> <a id="6452" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6452" class="Bound">g</a> <a id="6454" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6454" class="Bound">e</a> <a id="6456" class="Symbol">{</a><a id="6457" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3446" class="InductiveConstructor Operator">S</a> <a id="6459" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6459" class="Bound">x</a><a id="6460" class="Symbol">}</a> <a id="6462" class="Symbol">=</a> <a id="6464" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6792" class="Function">G</a> <a id="6466" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6452" class="Bound">g</a>
  <a id="6470" class="Keyword">where</a>
      <a id="6482" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6482" class="Function">eq</a> <a id="6485" class="Symbol">:</a> <a id="6487" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5904" class="Function">ext-subst</a> <a id="6497" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6443" class="Bound">σ</a> <a id="6499" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6449" class="Bound">N</a> <a id="6501" class="Symbol">(</a><a id="6502" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3446" class="InductiveConstructor Operator">S</a> <a id="6504" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6459" class="Bound">x</a><a id="6505" class="Symbol">)</a> <a id="6507" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="6509" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6443" class="Bound">σ</a> <a id="6511" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6459" class="Bound">x</a>
      <a id="6519" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6482" class="Function">eq</a> <a id="6522" class="Symbol">=</a>
        <a id="6532" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4076" class="Function Operator">begin</a>
          <a id="6548" class="Symbol">(</a><a id="6549" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6931" class="Function">subst</a> <a id="6555" class="Symbol">(</a><a id="6556" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#7359" class="Function">subst-zero</a> <a id="6567" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6449" class="Bound">N</a><a id="6568" class="Symbol">))</a> <a id="6571" class="Symbol">(</a><a id="6572" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6623" class="Function">exts</a> <a id="6577" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6443" class="Bound">σ</a> <a id="6579" class="Symbol">(</a><a id="6580" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3446" class="InductiveConstructor Operator">S</a> <a id="6582" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6459" class="Bound">x</a><a id="6583" class="Symbol">))</a>
        <a id="6594" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4134" class="Function Operator">≡⟨⟩</a>
          <a id="6608" class="Symbol">((</a><a id="6610" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6931" class="Function">subst</a> <a id="6616" class="Symbol">(</a><a id="6617" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#7359" class="Function">subst-zero</a> <a id="6628" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6449" class="Bound">N</a><a id="6629" class="Symbol">))</a> <a id="6632" href="https://agda.github.io/agda-stdlib/Function.html#769" class="Function Operator">∘</a> <a id="6634" class="Symbol">(</a><a id="6635" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6171" class="Function">rename</a> <a id="6642" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3446" class="InductiveConstructor Operator">S_</a><a id="6644" class="Symbol">))</a> <a id="6647" class="Symbol">(</a><a id="6648" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6443" class="Bound">σ</a> <a id="6650" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6459" class="Bound">x</a><a id="6651" class="Symbol">)</a>
        <a id="6661" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4193" class="Function Operator">≡⟨</a> <a id="6664" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Substitution.md %}{% raw %}#23372" class="Function">rename-subst</a><a id="6676" class="Symbol">{</a><a id="6677" class="Argument">M</a> <a id="6679" class="Symbol">=</a> <a id="6681" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6443" class="Bound">σ</a> <a id="6683" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6459" class="Bound">x</a><a id="6684" class="Symbol">}</a> <a id="6686" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4193" class="Function Operator">⟩</a>
          <a id="6698" class="Symbol">(</a><a id="6699" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6931" class="Function">subst</a> <a id="6705" class="Symbol">((</a><a id="6707" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#7359" class="Function">subst-zero</a> <a id="6718" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6449" class="Bound">N</a><a id="6719" class="Symbol">)</a> <a id="6721" href="https://agda.github.io/agda-stdlib/Function.html#769" class="Function Operator">∘</a> <a id="6723" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3446" class="InductiveConstructor Operator">S_</a><a id="6725" class="Symbol">))</a> <a id="6728" class="Symbol">(</a><a id="6729" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6443" class="Bound">σ</a> <a id="6731" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6459" class="Bound">x</a><a id="6732" class="Symbol">)</a>        
        <a id="6750" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4193" class="Function Operator">≡⟨</a> <a id="6753" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Substitution.md %}{% raw %}#16736" class="Function">sub-id</a> <a id="6760" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4193" class="Function Operator">⟩</a>
          <a id="6772" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6443" class="Bound">σ</a> <a id="6774" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6459" class="Bound">x</a>
        <a id="6784" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4374" class="Function Operator">∎</a>
      <a id="6792" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6792" class="Function">G</a> <a id="6794" class="Symbol">:</a> <a id="6796" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5513" class="Function">𝔹</a> <a id="6798" class="Symbol">(</a><a id="6799" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6439" class="Bound">γ</a> <a id="6801" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6459" class="Bound">x</a><a id="6802" class="Symbol">)</a> <a id="6804" class="Symbol">(</a><a id="6805" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6443" class="Bound">σ</a> <a id="6807" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6459" class="Bound">x</a><a id="6808" class="Symbol">)</a> <a id="6810" class="Symbol">→</a> <a id="6812" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5513" class="Function">𝔹</a> <a id="6814" class="Symbol">(</a><a id="6815" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6439" class="Bound">γ</a> <a id="6817" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6459" class="Bound">x</a><a id="6818" class="Symbol">)</a> <a id="6820" class="Symbol">(</a><a id="6821" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5904" class="Function">ext-subst</a> <a id="6831" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6443" class="Bound">σ</a> <a id="6833" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6449" class="Bound">N</a> <a id="6835" class="Symbol">(</a><a id="6836" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3446" class="InductiveConstructor Operator">S</a> <a id="6838" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6459" class="Bound">x</a><a id="6839" class="Symbol">))</a>
      <a id="6848" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6792" class="Function">G</a> <a id="6850" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6850" class="Bound">b</a> <a id="6852" class="Keyword">rewrite</a> <a id="6860" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6482" class="Function">eq</a> <a id="6863" class="Symbol">=</a> <a id="6865" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6850" class="Bound">b</a>{% endraw %}</pre>



<pre class="Agda">{% raw %}<a id="⇓→—↠×𝔹"></a><a id="6894" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6894" class="Function">⇓→—↠×𝔹</a> <a id="6901" class="Symbol">:</a> <a id="6903" class="Symbol">∀{</a><a id="6905" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6905" class="Bound">Γ</a><a id="6906" class="Symbol">}{</a><a id="6908" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6908" class="Bound">γ</a> <a id="6910" class="Symbol">:</a> <a id="6912" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2033" class="Function">ClosEnv</a> <a id="6920" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6905" class="Bound">Γ</a><a id="6921" class="Symbol">}{</a><a id="6923" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6923" class="Bound">σ</a> <a id="6925" class="Symbol">:</a> <a id="6927" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Soundness.md %}{% raw %}#2673" class="Function">Subst</a> <a id="6933" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6905" class="Bound">Γ</a> <a id="6935" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3002" class="InductiveConstructor">∅</a><a id="6936" class="Symbol">}{</a><a id="6938" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6938" class="Bound">M</a> <a id="6940" class="Symbol">:</a> <a id="6942" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6905" class="Bound">Γ</a> <a id="6944" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4150" class="Datatype Operator">⊢</a> <a id="6946" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a><a id="6947" class="Symbol">}{</a><a id="6949" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6949" class="Bound">c</a> <a id="6951" class="Symbol">:</a> <a id="6953" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2063" class="Datatype">Clos</a><a id="6957" class="Symbol">}</a>
              <a id="6973" class="Symbol">→</a> <a id="6975" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6908" class="Bound">γ</a> <a id="6977" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⊢</a> <a id="6979" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6938" class="Bound">M</a> <a id="6981" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⇓</a> <a id="6983" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6949" class="Bound">c</a> <a id="6985" class="Symbol">→</a> <a id="6987" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5538" class="Function">ℍ</a> <a id="6989" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6908" class="Bound">γ</a> <a id="6991" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6923" class="Bound">σ</a>
              <a id="7007" class="Symbol">→</a> <a id="7009" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="7012" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7012" class="Bound">N</a> <a id="7014" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="7016" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3002" class="InductiveConstructor">∅</a> <a id="7018" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4150" class="Datatype Operator">⊢</a> <a id="7020" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a> <a id="7022" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a> <a id="7024" class="Symbol">(</a><a id="7025" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6931" class="Function">subst</a> <a id="7031" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6923" class="Bound">σ</a> <a id="7033" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6938" class="Bound">M</a> <a id="7035" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/LambdaReduction.md %}{% raw %}#894" class="Datatype Operator">—↠</a> <a id="7038" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7012" class="Bound">N</a><a id="7039" class="Symbol">)</a> <a id="7041" href="https://agda.github.io/agda-stdlib/Data.Product.html#1353" class="Function Operator">×</a> <a id="7043" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5513" class="Function">𝔹</a> <a id="7045" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6949" class="Bound">c</a> <a id="7047" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7012" class="Bound">N</a>
<a id="7049" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6894" class="Function">⇓→—↠×𝔹</a> <a id="7056" class="Symbol">{</a><a id="7057" class="Argument">γ</a> <a id="7059" class="Symbol">=</a> <a id="7061" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7061" class="Bound">γ</a><a id="7062" class="Symbol">}</a> <a id="7064" class="Symbol">(</a><a id="7065" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2684" class="InductiveConstructor">⇓-var</a><a id="7070" class="Symbol">{</a><a id="7071" class="Argument">x</a> <a id="7073" class="Symbol">=</a> <a id="7075" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7075" class="Bound">x</a><a id="7076" class="Symbol">}</a> <a id="7078" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7078" class="Bound">eq</a> <a id="7081" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7081" class="Bound">d</a><a id="7082" class="Symbol">)</a> <a id="7084" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7084" class="Bound">h</a>
    <a id="7090" class="Keyword">with</a> <a id="7095" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7061" class="Bound">γ</a> <a id="7097" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7075" class="Bound">x</a> <a id="7099" class="Symbol">|</a> <a id="7101" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7084" class="Bound">h</a> <a id="7103" class="Symbol">{</a><a id="7104" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7075" class="Bound">x</a><a id="7105" class="Symbol">}</a> <a id="7107" class="Symbol">|</a> <a id="7109" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7078" class="Bound">eq</a>
<a id="7112" class="Symbol">...</a> <a id="7116" class="Symbol">|</a> <a id="7118" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2082" class="InductiveConstructor">clos</a> <a id="7123" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7123" class="Bound">M&#39;</a> <a id="7126" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7126" class="Bound">γ&#39;</a> <a id="7129" class="Symbol">|</a> <a id="7131" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7133" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7133" class="Bound">σ&#39;</a> <a id="7136" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7138" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7140" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7140" class="Bound">h&#39;</a> <a id="7143" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7145" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7145" class="Bound">r</a> <a id="7147" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="7149" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="7151" class="Symbol">|</a> <a id="7153" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
    <a id="7162" class="Keyword">with</a> <a id="7167" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6894" class="Function">⇓→—↠×𝔹</a><a id="7173" class="Symbol">{</a><a id="7174" class="Argument">σ</a> <a id="7176" class="Symbol">=</a> <a id="7178" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7133" class="Bound">σ&#39;</a><a id="7180" class="Symbol">}</a> <a id="7182" class="Bound">d</a> <a id="7184" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7140" class="Bound">h&#39;</a>
<a id="7187" class="Symbol">...</a> <a id="7191" class="Symbol">|</a> <a id="7193" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7195" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7195" class="Bound">N</a> <a id="7197" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7199" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7201" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7201" class="Bound">r&#39;</a> <a id="7204" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7206" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7206" class="Bound">bn</a> <a id="7209" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="7211" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="7213" class="Keyword">rewrite</a> <a id="7221" class="Bound">r</a> <a id="7223" class="Symbol">=</a>    
      <a id="7235" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7237" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7195" class="Bound">N</a> <a id="7239" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7241" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7243" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7201" class="Bound">r&#39;</a> <a id="7246" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7248" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7206" class="Bound">bn</a> <a id="7251" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="7253" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="7255" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6894" class="Function">⇓→—↠×𝔹</a> <a id="7262" class="Symbol">{</a><a id="7263" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7263" class="Bound">Γ</a><a id="7264" class="Symbol">}</a> <a id="7266" class="Symbol">{</a><a id="7267" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7267" class="Bound">γ</a><a id="7268" class="Symbol">}</a> <a id="7270" class="Symbol">{</a><a id="7271" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7271" class="Bound">σ</a><a id="7272" class="Symbol">}</a> <a id="7274" class="Symbol">{</a><a id="7275" class="DottedPattern Symbol">.(</a><a id="7277" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4238" class="DottedPattern InductiveConstructor Operator">ƛ</a> <a id="7279" class="DottedPattern Symbol">_)</a><a id="7281" class="Symbol">}</a> <a id="7283" class="Symbol">{</a><a id="7284" class="DottedPattern Symbol">.(</a><a id="7286" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2082" class="DottedPattern InductiveConstructor">clos</a> <a id="7291" class="DottedPattern Symbol">(</a><a id="7292" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4238" class="DottedPattern InductiveConstructor Operator">ƛ</a> <a id="7294" class="DottedPattern Symbol">_)</a> <a id="7297" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7267" class="DottedPattern Bound">γ</a><a id="7298" class="DottedPattern Symbol">)</a><a id="7299" class="Symbol">}</a> <a id="7301" class="Symbol">(</a><a id="7302" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2847" class="InductiveConstructor">⇓-lam</a><a id="7307" class="Symbol">{</a><a id="7308" class="Argument">M</a> <a id="7310" class="Symbol">=</a> <a id="7312" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7312" class="Bound">N</a><a id="7313" class="Symbol">})</a> <a id="7316" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7316" class="Bound">h</a> <a id="7318" class="Symbol">=</a>
   <a id="7323" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7325" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6931" class="Function">subst</a> <a id="7331" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7271" class="Bound">σ</a> <a id="7333" class="Symbol">(</a><a id="7334" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4238" class="InductiveConstructor Operator">ƛ</a> <a id="7336" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7312" class="Bound">N</a><a id="7337" class="Symbol">)</a> <a id="7339" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7341" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7343" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6931" class="Function">subst</a> <a id="7349" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7271" class="Bound">σ</a> <a id="7351" class="Symbol">(</a><a id="7352" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4238" class="InductiveConstructor Operator">ƛ</a> <a id="7354" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7312" class="Bound">N</a><a id="7355" class="Symbol">)</a> <a id="7357" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/LambdaReduction.md %}{% raw %}#944" class="InductiveConstructor Operator">[]</a> <a id="7360" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7362" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7364" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7271" class="Bound">σ</a> <a id="7366" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7368" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7370" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7316" class="Bound">h</a> <a id="7372" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7374" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="7379" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="7381" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="7383" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="7385" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="7387" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6894" class="Function">⇓→—↠×𝔹</a> <a id="7394" class="Symbol">{</a><a id="7395" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7395" class="Bound">Γ</a><a id="7396" class="Symbol">}</a> <a id="7398" class="Symbol">{</a><a id="7399" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7399" class="Bound">γ</a><a id="7400" class="Symbol">}</a> <a id="7402" class="Symbol">{</a><a id="7403" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7403" class="Bound">σ</a><a id="7404" class="Symbol">}</a> <a id="7406" class="Symbol">{</a><a id="7407" class="DottedPattern Symbol">.(_</a> <a id="7411" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4298" class="DottedPattern InductiveConstructor Operator">·</a> <a id="7413" class="DottedPattern Symbol">_)</a><a id="7415" class="Symbol">}</a> <a id="7417" class="Symbol">{</a><a id="7418" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7418" class="Bound">c</a><a id="7419" class="Symbol">}</a>
    <a id="7425" class="Symbol">(</a><a id="7426" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2926" class="InductiveConstructor">⇓-app</a><a id="7431" class="Symbol">{</a><a id="7432" class="Argument">L</a> <a id="7434" class="Symbol">=</a> <a id="7436" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7436" class="Bound">L</a><a id="7437" class="Symbol">}{</a><a id="7439" class="Argument">M</a> <a id="7441" class="Symbol">=</a> <a id="7443" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7443" class="Bound">M</a><a id="7444" class="Symbol">}{</a><a id="7446" class="Argument">Δ</a> <a id="7448" class="Symbol">=</a> <a id="7450" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7450" class="Bound">Δ</a><a id="7451" class="Symbol">}{</a><a id="7453" class="Argument">δ</a> <a id="7455" class="Symbol">=</a> <a id="7457" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7457" class="Bound">δ</a><a id="7458" class="Symbol">}{</a><a id="7460" class="Argument">N</a> <a id="7462" class="Symbol">=</a> <a id="7464" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7464" class="Bound">N</a><a id="7465" class="Symbol">}</a> <a id="7467" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7467" class="Bound">d₁</a> <a id="7470" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7470" class="Bound">d₂</a><a id="7472" class="Symbol">)</a> <a id="7474" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7474" class="Bound">h</a>
    <a id="7480" class="Keyword">with</a> <a id="7485" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6894" class="Function">⇓→—↠×𝔹</a><a id="7491" class="Symbol">{</a><a id="7492" class="Argument">σ</a> <a id="7494" class="Symbol">=</a> <a id="7496" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7403" class="Bound">σ</a><a id="7497" class="Symbol">}</a> <a id="7499" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7467" class="Bound">d₁</a> <a id="7502" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7474" class="Bound">h</a>
<a id="7504" class="Symbol">...</a> <a id="7508" class="Symbol">|</a> <a id="7510" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7512" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7512" class="Bound">L&#39;</a> <a id="7515" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7517" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7519" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7519" class="Bound">σL—↠L&#39;</a> <a id="7526" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7528" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7530" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7530" class="Bound">σ₁</a> <a id="7533" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7535" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7537" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7537" class="Bound">Hδσ₁</a> <a id="7542" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7544" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7544" class="Bound">eq</a> <a id="7547" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="7549" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="7551" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="7553" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="7555" class="Keyword">rewrite</a> <a id="7563" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7544" class="Bound">eq</a>
    <a id="7570" class="Keyword">with</a> <a id="7575" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6894" class="Function">⇓→—↠×𝔹</a><a id="7581" class="Symbol">{</a><a id="7582" class="Argument">σ</a> <a id="7584" class="Symbol">=</a> <a id="7586" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5904" class="Function">ext-subst</a> <a id="7596" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7530" class="Bound">σ₁</a> <a id="7599" class="Symbol">(</a><a id="7600" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6931" class="Function">subst</a> <a id="7606" class="Bound">σ</a> <a id="7608" class="Bound">M</a><a id="7609" class="Symbol">)}</a> <a id="7612" class="Bound">d₂</a>
           <a id="7626" class="Symbol">(λ</a> <a id="7629" class="Symbol">{</a><a id="7630" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7630" class="Bound">x</a><a id="7631" class="Symbol">}</a> <a id="7633" class="Symbol">→</a> <a id="7635" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6242" class="Function">ℍ-ext</a><a id="7640" class="Symbol">{</a><a id="7641" class="Bound">Δ</a><a id="7642" class="Symbol">}{</a><a id="7644" class="Argument">σ</a> <a id="7646" class="Symbol">=</a> <a id="7648" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7530" class="Bound">σ₁</a><a id="7650" class="Symbol">}</a> <a id="7652" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7537" class="Bound">Hδσ₁</a> <a id="7657" class="Symbol">(</a><a id="7658" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7660" class="Bound">σ</a> <a id="7662" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7664" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7666" class="Bound">h</a> <a id="7668" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7670" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="7675" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="7677" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a><a id="7678" class="Symbol">){</a><a id="7680" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7630" class="Bound">x</a><a id="7681" class="Symbol">})</a>
       <a id="7691" class="Symbol">|</a> <a id="7693" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/LambdaReduction.md %}{% raw %}#616" class="InductiveConstructor">β</a><a id="7694" class="Symbol">{</a><a id="7695" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3002" class="InductiveConstructor">∅</a><a id="7696" class="Symbol">}{</a><a id="7698" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6931" class="Function">subst</a> <a id="7704" class="Symbol">(</a><a id="7705" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6623" class="Function">exts</a> <a id="7710" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7530" class="Bound">σ₁</a><a id="7712" class="Symbol">)</a> <a id="7714" class="Bound">N</a><a id="7715" class="Symbol">}{</a><a id="7717" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6931" class="Function">subst</a> <a id="7723" class="Bound">σ</a> <a id="7725" class="Bound">M</a><a id="7726" class="Symbol">}</a>
<a id="7728" class="Symbol">...</a> <a id="7732" class="Symbol">|</a> <a id="7734" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7736" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7736" class="Bound">N&#39;</a> <a id="7739" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7741" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7743" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7743" class="Bound">r&#39;</a> <a id="7746" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7748" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7748" class="Bound">bl</a> <a id="7751" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="7753" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="7755" class="Symbol">|</a> <a id="7757" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7757" class="Bound">r</a> 
    <a id="7764" class="Keyword">rewrite</a> <a id="7772" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Substitution.md %}{% raw %}#22338" class="Function">sub-sub</a><a id="7779" class="Symbol">{</a><a id="7780" class="Argument">M</a> <a id="7782" class="Symbol">=</a> <a id="7784" class="Bound">N</a><a id="7785" class="Symbol">}{</a><a id="7787" class="Argument">σ₁</a> <a id="7790" class="Symbol">=</a> <a id="7792" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6623" class="Function">exts</a> <a id="7797" class="Bound">σ₁</a><a id="7799" class="Symbol">}{</a><a id="7801" class="Argument">σ₂</a> <a id="7804" class="Symbol">=</a> <a id="7806" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#7359" class="Function">subst-zero</a> <a id="7817" class="Symbol">(</a><a id="7818" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6931" class="Function">subst</a> <a id="7824" class="Bound">σ</a> <a id="7826" class="Bound">M</a><a id="7827" class="Symbol">)}</a> <a id="7830" class="Symbol">=</a>
    <a id="7836" class="Keyword">let</a> <a id="7840" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7840" class="Bound">rs</a> <a id="7843" class="Symbol">=</a> <a id="7845" class="Symbol">(</a><a id="7846" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4238" class="InductiveConstructor Operator">ƛ</a> <a id="7848" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6931" class="Function">subst</a> <a id="7854" class="Symbol">(</a><a id="7855" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6623" class="Function">exts</a> <a id="7860" class="Bound">σ₁</a><a id="7862" class="Symbol">)</a> <a id="7864" class="Bound">N</a><a id="7865" class="Symbol">)</a> <a id="7867" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4298" class="InductiveConstructor Operator">·</a> <a id="7869" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6931" class="Function">subst</a> <a id="7875" class="Bound">σ</a> <a id="7877" class="Bound">M</a> <a id="7879" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/LambdaReduction.md %}{% raw %}#1001" class="InductiveConstructor Operator">—→⟨</a> <a id="7883" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7757" class="Bound">r</a> <a id="7885" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/LambdaReduction.md %}{% raw %}#1001" class="InductiveConstructor Operator">⟩</a> <a id="7887" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7743" class="Bound">r&#39;</a> <a id="7890" class="Keyword">in</a>
    <a id="7897" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7899" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7736" class="Bound">N&#39;</a> <a id="7902" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7904" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="7906" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/LambdaReduction.md %}{% raw %}#1210" class="Function">—↠-trans</a> <a id="7915" class="Symbol">(</a><a id="7916" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/LambdaReduction.md %}{% raw %}#1923" class="Function">appL-cong</a> <a id="7926" class="Bound">σL—↠L&#39;</a><a id="7932" class="Symbol">)</a> <a id="7934" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7840" class="Bound">rs</a> <a id="7937" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7939" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7748" class="Bound">bl</a> <a id="7942" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="7944" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>{% endraw %}</pre>



<pre class="Agda">{% raw %}<a id="cbn→reduce"></a><a id="7973" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7973" class="Function">cbn→reduce</a> <a id="7984" class="Symbol">:</a>  <a id="7987" class="Symbol">∀{</a><a id="7989" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7989" class="Bound">M</a> <a id="7991" class="Symbol">:</a> <a id="7993" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3002" class="InductiveConstructor">∅</a> <a id="7995" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4150" class="Datatype Operator">⊢</a> <a id="7997" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a><a id="7998" class="Symbol">}{</a><a id="8000" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8000" class="Bound">Δ</a><a id="8001" class="Symbol">}{</a><a id="8003" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8003" class="Bound">δ</a> <a id="8005" class="Symbol">:</a> <a id="8007" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2033" class="Function">ClosEnv</a> <a id="8015" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8000" class="Bound">Δ</a><a id="8016" class="Symbol">}{</a><a id="8018" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8018" class="Bound">N′</a> <a id="8021" class="Symbol">:</a> <a id="8023" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8000" class="Bound">Δ</a> <a id="8025" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3018" class="InductiveConstructor Operator">,</a> <a id="8027" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a> <a id="8029" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4150" class="Datatype Operator">⊢</a> <a id="8031" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a><a id="8032" class="Symbol">}</a>
     <a id="8039" class="Symbol">→</a> <a id="8041" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2261" class="Function">∅&#39;</a> <a id="8044" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⊢</a> <a id="8046" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7989" class="Bound">M</a> <a id="8048" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2627" class="Datatype Operator">⇓</a> <a id="8050" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#2082" class="InductiveConstructor">clos</a> <a id="8055" class="Symbol">(</a><a id="8056" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4238" class="InductiveConstructor Operator">ƛ</a> <a id="8058" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8018" class="Bound">N′</a><a id="8060" class="Symbol">)</a> <a id="8062" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8003" class="Bound">δ</a>
     <a id="8069" class="Symbol">→</a> <a id="8071" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="8074" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8074" class="Bound">N</a> <a id="8076" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="8078" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3002" class="InductiveConstructor">∅</a> <a id="8080" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#3018" class="InductiveConstructor Operator">,</a> <a id="8082" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a> <a id="8084" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4150" class="Datatype Operator">⊢</a> <a id="8086" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#2694" class="InductiveConstructor">★</a> <a id="8088" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a> <a id="8090" class="Symbol">(</a><a id="8091" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7989" class="Bound">M</a> <a id="8093" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/LambdaReduction.md %}{% raw %}#894" class="Datatype Operator">—↠</a> <a id="8096" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#4238" class="InductiveConstructor Operator">ƛ</a> <a id="8098" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8074" class="Bound">N</a><a id="8099" class="Symbol">)</a>
<a id="8101" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#7973" class="Function">cbn→reduce</a> <a id="8112" class="Symbol">{</a><a id="8113" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8113" class="Bound">M</a><a id="8114" class="Symbol">}{</a><a id="8116" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8116" class="Bound">Δ</a><a id="8117" class="Symbol">}{</a><a id="8119" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8119" class="Bound">δ</a><a id="8120" class="Symbol">}{</a><a id="8122" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8122" class="Bound">N′</a><a id="8124" class="Symbol">}</a> <a id="8126" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8126" class="Bound">M⇓c</a>
    <a id="8134" class="Keyword">with</a> <a id="8139" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#6894" class="Function">⇓→—↠×𝔹</a><a id="8145" class="Symbol">{</a><a id="8146" class="Argument">σ</a> <a id="8148" class="Symbol">=</a> <a id="8150" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Substitution.md %}{% raw %}#2589" class="Function">ids</a><a id="8153" class="Symbol">}</a> <a id="8155" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8126" class="Bound">M⇓c</a> <a id="8159" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#5789" class="Function">H-id</a>
<a id="8164" class="Symbol">...</a> <a id="8168" class="Symbol">|</a> <a id="8170" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="8172" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8172" class="Bound">N</a> <a id="8174" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8176" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="8178" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8178" class="Bound">rs</a> <a id="8181" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8183" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="8185" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8185" class="Bound">σ</a> <a id="8187" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8189" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="8191" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8191" class="Bound">h</a> <a id="8193" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8195" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8195" class="Bound">eq2</a> <a id="8199" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="8201" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="8203" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="8205" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
    <a id="8211" class="Keyword">rewrite</a> <a id="8219" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Substitution.md %}{% raw %}#16736" class="Function">sub-id</a><a id="8225" class="Symbol">{</a><a id="8226" class="Argument">M</a> <a id="8228" class="Symbol">=</a> <a id="8230" class="Bound">M</a><a id="8231" class="Symbol">}</a> <a id="8233" class="Symbol">|</a> <a id="8235" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8195" class="Bound">eq2</a> <a id="8239" class="Symbol">=</a>
    <a id="8245" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="8247" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6931" class="Function">subst</a> <a id="8253" class="Symbol">(λ</a> <a id="8256" class="Symbol">{</a><a id="8257" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8257" class="Bound">A</a><a id="8258" class="Symbol">}</a> <a id="8260" class="Symbol">→</a> <a id="8262" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Untyped.md %}{% raw %}#6623" class="Function">exts</a> <a id="8267" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8185" class="Bound">σ</a><a id="8268" class="Symbol">)</a> <a id="8270" class="Bound">N′</a> <a id="8273" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8275" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/CallByName.md %}{% raw %}#8178" class="Bound">rs</a> <a id="8278" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>{% endraw %}</pre>

[JGS: to do: forward reference the other direction of the proof in the
chapter on adequacy]
